buildscript {
    ext {
        javaVersion = '1.8'
        kotlinVersion = '1.3.50'
    }

    repositories {
        mavenCentral()
        maven { url "https://jitpack.io" }
    }

    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion"
    }
}

plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '0.4.10'
}

apply plugin: 'org.jetbrains.intellij'
apply plugin: 'java'
apply plugin: 'kotlin'

sourceCompatibility = javaVersion

repositories {
    mavenCentral()
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion"
    compile "org.jetbrains:annotations-java5:17.0.0"
}

group 'com.lilbaek'
version '0.4'

// See https://github.com/JetBrains/gradle-intellij-plugin/
intellij {
    alternativeIdePath = "C:\\Program Files\\JetBrains\\WebStorm 2019.2.3\\"
    type 'IU'
    version '2019.1.1'
    plugins = ['JavaScriptLanguage', 'JavaScriptDebugger']
}

patchPluginXml {
    changeNotes """
      Early DRAFT<br>
      <em>Feedback welcome.</em>
      <ul>
      <li><b>0.4.0</b> - Added support for macOS 
      <li><b>0.3.0</b> - Support for targeting a specific fixture
      <li><b>0.2.0</b> - First version with support for running TestCafe tests
      </li>
      </ul>"""
}